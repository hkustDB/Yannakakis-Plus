create or replace view g5 as select Graph.src as v4, Graph.dst as v10, v18 from Graph, (SELECT dst, COUNT(*) AS v18 FROM Graph GROUP BY dst) AS c4 where Graph.dst = c4.dst;
create or replace view g3 as select Graph.src as v4, Graph.dst as v6, v14 from Graph, (SELECT src, COUNT(*) AS v14 FROM Graph GROUP BY src) AS c2 where Graph.dst = c2.src;
create or replace view semiUp1672929750080706292 as select v4, v6 from g3 where (v4) in (select v4 from g5);
create or replace view g4 as select Graph.src as v7, Graph.dst as v2, v16 from Graph, (SELECT dst, COUNT(*) AS v16 FROM Graph GROUP BY dst) AS c3 where Graph.src = c3.dst;
create or replace view g4Aux86 as select v7, v2 from g4;
create or replace view semiUp2178888595774058532 as select src as v2, dst as v4 from Graph AS g2 where (dst) in (select v4 from semiUp1672929750080706292);
create or replace view g1 as select Graph.src as v1, Graph.dst as v2, v12 from Graph, (SELECT src, COUNT(*) AS v12 FROM Graph GROUP BY src) AS c1 where Graph.src = c1.src;
create or replace view semiUp2964396785085453521 as select v1, v2 from g1 where (v2) in (select v2 from semiUp2178888595774058532);
create or replace view g1Aux48 as select v1, v2 from semiUp2964396785085453521;
create or replace view semiUp7725159571402929306 as select v1, v2 from g1Aux48 where (v2) in (select v2 from g4Aux86);
create or replace view semiDown1862964150242647045 as select v7, v2 from g4Aux86 where (v2) in (select v2 from semiUp7725159571402929306);
create or replace view semiDown8850647060560641435 as select v1, v2 from semiUp2964396785085453521 where (v2, v1) in (select v2, v1 from semiUp7725159571402929306);
create or replace view semiDown216036598846324419 as select v7, v2 from g4 where (v7, v2) in (select v7, v2 from semiDown1862964150242647045);
create or replace view semiDown1605610692111895815 as select v2, v4 from semiUp2178888595774058532 where (v2) in (select v2 from semiDown8850647060560641435);
create or replace view semiDown2829767132288191688 as select v4, v6 from semiUp1672929750080706292 where (v4) in (select v4 from semiDown1605610692111895815);
create or replace view semiDown8372130581018349084 as select v4 from g5 where (v4) in (select v4 from semiDown2829767132288191688);
create or replace view aggView8316898823088953337 as select v7, v2, AVG(v2) as v21, COUNT(*) as annot from semiDown216036598846324419 group by v7,v2;
create or replace view aggView1784961645438713032 as select v4, COUNT(*) as annot from semiDown8372130581018349084 group by v4;
create or replace view aggJoin7070640946720234682 as select v4, v6, annot from semiDown2829767132288191688 join aggView1784961645438713032 using(v4);
create or replace view aggView2321387030437830814 as select v4, SUM(v6 * annot) as v20, SUM(annot) as annot from aggJoin7070640946720234682 group by v4;
create or replace view aggJoin4777747558337442741 as select v2, v20, annot from semiDown1605610692111895815 join aggView2321387030437830814 using(v4);
create or replace view aggView4057496659128395645 as select v2, SUM(v20) as v20, SUM(annot) as annot from aggJoin4777747558337442741 group by v2,v20;
create or replace view aggJoin7864521638979246293 as select v1, v2, v20, annot from semiDown8850647060560641435 join aggView4057496659128395645 using(v2);
create or replace view aggView8094113045754948497 as select v2, v1, SUM(v20) as v20, SUM(v1 * annot) as v22, SUM(annot) as annot from aggJoin7864521638979246293 group by v2,v1,v20;
create or replace view aggView4610233559877101787 as select v2, SUM(v21) as v21, v7, SUM(annot) as annot from aggView8316898823088953337 group by v2,v7,v21;
create or replace view aggJoin2917867364807096184 as select v20*aggView4610233559877101787.annot as v20, v22*aggView4610233559877101787.annot as v22, aggView8094113045754948497.annot * aggView4610233559877101787.annot as annot, v21 * aggView8094113045754948497.annot as v21, v7, v1 from aggView8094113045754948497 join aggView4610233559877101787 using(v2);
create or replace view res as select v1,v7,SUM(annot) as v19,SUM(v20) as v20,SUM(v21/annot) as v21,SUM(v22/annot) as v22 from aggJoin2917867364807096184 group by v1, v7;
select sum(v1), sum(v7), sum(v19), sum(v20), sum(v21), sum(v22) from res;