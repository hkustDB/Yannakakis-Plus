create or replace view aggView6586988864370215495 as select id as v12, title as v31 from title as t;
create or replace view aggJoin8216587305549307213 as select movie_id as v12, company_id as v1, v31 from movie_companies as mc, aggView6586988864370215495 where mc.movie_id=aggView6586988864370215495.v12;
create or replace view aggView2007343292203189595 as select id as v18 from keyword as k where keyword= 'character-name-in-title';
create or replace view aggJoin8533428467762242778 as select movie_id as v12 from movie_keyword as mk, aggView2007343292203189595 where mk.keyword_id=aggView2007343292203189595.v18;
create or replace view aggView661539767915916721 as select v12 from aggJoin8533428467762242778 group by v12;
create or replace view aggJoin2322230342196226223 as select v1, v31 as v31 from aggJoin8216587305549307213 join aggView661539767915916721 using(v12);
create or replace view aggView7280174397339993680 as select v1, MIN(v31) as v31 from aggJoin2322230342196226223 group by v1;
create or replace view aggJoin4558961083554130569 as select country_code as v3, v31 from company_name as cn, aggView7280174397339993680 where cn.id=aggView7280174397339993680.v1 and country_code= '[sm]';
create or replace view res as select MIN(v31) as v31 from aggJoin4558961083554130569;
select sum(v31) from res;