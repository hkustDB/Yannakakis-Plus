create or replace view aggView7160956082835406766 as select id as v26 from kind_type as kt where kind= 'movie';
create or replace view aggJoin1555842021964933802 as select id as v40, title as v41 from title as t, aggView7160956082835406766 where t.kind_id=aggView7160956082835406766.v26 and production_year>1950;
create or replace view aggView1159552242308705837 as select id as v9 from char_name as chn where ((name LIKE '%Tony%Stark%') OR (name LIKE '%Iron%Man%')) and name NOT LIKE '%Sherlock%';
create or replace view aggJoin7610724980745055935 as select person_id as v31, movie_id as v40 from cast_info as ci, aggView1159552242308705837 where ci.person_role_id=aggView1159552242308705837.v9;
create or replace view aggView629088517888976620 as select id as v31 from name as n;
create or replace view aggJoin2100991979866297946 as select v40 from aggJoin7610724980745055935 join aggView629088517888976620 using(v31);
create or replace view aggView4060760144434053186 as select id as v7 from comp_cast_type as cct2 where kind LIKE '%complete%';
create or replace view aggJoin3397830051853100963 as select movie_id as v40, subject_id as v5 from complete_cast as cc, aggView4060760144434053186 where cc.status_id=aggView4060760144434053186.v7;
create or replace view aggView7738370026663520565 as select id as v5 from comp_cast_type as cct1 where kind= 'cast';
create or replace view aggJoin2649817381741510853 as select v40 from aggJoin3397830051853100963 join aggView7738370026663520565 using(v5);
create or replace view aggView719347475707235563 as select id as v23 from keyword as k where keyword IN ('superhero','sequel','second-part','marvel-comics','based-on-comic','tv-special','fight','violence');
create or replace view aggJoin552501104374154845 as select movie_id as v40 from movie_keyword as mk, aggView719347475707235563 where mk.keyword_id=aggView719347475707235563.v23;
create or replace view aggView6129021761624089778 as select v40 from aggJoin552501104374154845 group by v40;
create or replace view aggJoin2868739977648746641 as select v40, v41 from aggJoin1555842021964933802 join aggView6129021761624089778 using(v40);
create or replace view aggView4990573255703733742 as select v40, MIN(v41) as v52 from aggJoin2868739977648746641 group by v40;
create or replace view aggJoin6905664533113579537 as select v40, v52 from aggJoin2100991979866297946 join aggView4990573255703733742 using(v40);
create or replace view aggView3932978493131604678 as select v40, MIN(v52) as v52 from aggJoin6905664533113579537 group by v40;
create or replace view aggJoin6052827207870262787 as select v52 from aggJoin2649817381741510853 join aggView3932978493131604678 using(v40);
create or replace view res as select MIN(v52) as v52 from aggJoin6052827207870262787;
select sum(v52) from res;