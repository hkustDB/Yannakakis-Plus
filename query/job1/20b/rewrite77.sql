create or replace view aggView5747152549790551504 as select id as v5 from comp_cast_type as cct1 where kind= 'cast';
create or replace view aggJoin6273575881480816720 as select movie_id as v40, status_id as v7 from complete_cast as cc, aggView5747152549790551504 where cc.subject_id=aggView5747152549790551504.v5;
create or replace view aggView2612171762404035766 as select id as v31 from name as n where name LIKE '%Downey%Robert%';
create or replace view aggJoin3897010804903255211 as select movie_id as v40, person_role_id as v9 from cast_info as ci, aggView2612171762404035766 where ci.person_id=aggView2612171762404035766.v31;
create or replace view aggView2054081994870254801 as select id as v23 from keyword as k where keyword IN ('superhero','sequel','second-part','marvel-comics','based-on-comic','tv-special','fight','violence');
create or replace view aggJoin7976933072253287081 as select movie_id as v40 from movie_keyword as mk, aggView2054081994870254801 where mk.keyword_id=aggView2054081994870254801.v23;
create or replace view aggView4623674441940530404 as select id as v7 from comp_cast_type as cct2 where kind LIKE '%complete%';
create or replace view aggJoin378144435032524079 as select v40 from aggJoin6273575881480816720 join aggView4623674441940530404 using(v7);
create or replace view aggView8553535876849850072 as select v40 from aggJoin378144435032524079 group by v40;
create or replace view aggJoin817790274727789792 as select id as v40, title as v41, kind_id as v26 from title as t, aggView8553535876849850072 where t.id=aggView8553535876849850072.v40 and production_year>2000;
create or replace view aggView7651470353661414634 as select v40 from aggJoin7976933072253287081 group by v40;
create or replace view aggJoin3028959658972601628 as select v40, v41, v26 from aggJoin817790274727789792 join aggView7651470353661414634 using(v40);
create or replace view aggView8993463143153526877 as select id as v9 from char_name as chn where ((name LIKE '%Tony%Stark%') OR (name LIKE '%Iron%Man%')) and name NOT LIKE '%Sherlock%';
create or replace view aggJoin7601558890883942892 as select v40 from aggJoin3897010804903255211 join aggView8993463143153526877 using(v9);
create or replace view aggView7888358874334114339 as select id as v26 from kind_type as kt where kind= 'movie';
create or replace view aggJoin3810915943331301335 as select v40, v41 from aggJoin3028959658972601628 join aggView7888358874334114339 using(v26);
create or replace view aggView8273547790697201364 as select v40, MIN(v41) as v52 from aggJoin3810915943331301335 group by v40;
create or replace view aggJoin5089641208883497188 as select v52 from aggJoin7601558890883942892 join aggView8273547790697201364 using(v40);
create or replace view res as select MIN(v52) as v52 from aggJoin5089641208883497188;
select sum(v52) from res;