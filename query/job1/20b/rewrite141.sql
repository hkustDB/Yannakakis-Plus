create or replace view aggView5688486754378733176 as select id as v31 from name as n where name LIKE '%Downey%Robert%';
create or replace view aggJoin4690401948151610773 as select movie_id as v40, person_role_id as v9 from cast_info as ci, aggView5688486754378733176 where ci.person_id=aggView5688486754378733176.v31;
create or replace view aggView2152461664089454040 as select id as v5 from comp_cast_type as cct1 where kind= 'cast';
create or replace view aggJoin7906059385892339704 as select movie_id as v40, status_id as v7 from complete_cast as cc, aggView2152461664089454040 where cc.subject_id=aggView2152461664089454040.v5;
create or replace view aggView4370640054040874209 as select id as v7 from comp_cast_type as cct2 where kind LIKE '%complete%';
create or replace view aggJoin2830000791818367868 as select v40 from aggJoin7906059385892339704 join aggView4370640054040874209 using(v7);
create or replace view aggView1470022999463302696 as select v40 from aggJoin2830000791818367868 group by v40;
create or replace view aggJoin9215269028005939703 as select id as v40, title as v41, kind_id as v26 from title as t, aggView1470022999463302696 where t.id=aggView1470022999463302696.v40 and production_year>2000;
create or replace view aggView2934259712978163201 as select id as v23 from keyword as k where keyword IN ('superhero','sequel','second-part','marvel-comics','based-on-comic','tv-special','fight','violence');
create or replace view aggJoin1884657999037634121 as select movie_id as v40 from movie_keyword as mk, aggView2934259712978163201 where mk.keyword_id=aggView2934259712978163201.v23;
create or replace view aggView6997966921588790910 as select id as v9 from char_name as chn where ((name LIKE '%Tony%Stark%') OR (name LIKE '%Iron%Man%')) and name NOT LIKE '%Sherlock%';
create or replace view aggJoin2237485163132859505 as select v40 from aggJoin4690401948151610773 join aggView6997966921588790910 using(v9);
create or replace view aggView2205540698419299817 as select id as v26 from kind_type as kt where kind= 'movie';
create or replace view aggJoin571702028881194190 as select v40, v41 from aggJoin9215269028005939703 join aggView2205540698419299817 using(v26);
create or replace view aggView2006499385484673094 as select v40, MIN(v41) as v52 from aggJoin571702028881194190 group by v40;
create or replace view aggJoin7717352443923122614 as select v40, v52 from aggJoin2237485163132859505 join aggView2006499385484673094 using(v40);
create or replace view aggView8077193874435466174 as select v40 from aggJoin1884657999037634121 group by v40;
create or replace view aggJoin7875782604472408389 as select v52 as v52 from aggJoin7717352443923122614 join aggView8077193874435466174 using(v40);
create or replace view res as select MIN(v52) as v52 from aggJoin7875782604472408389;
select sum(v52) from res;