create or replace view aggView4825573578882908285 as select id as v12, title as v31 from title as t;
create or replace view aggJoin8161623153849221860 as select movie_id as v12, company_id as v1, v31 from movie_companies as mc, aggView4825573578882908285 where mc.movie_id=aggView4825573578882908285.v12;
create or replace view aggView7813670992955786508 as select id as v18 from keyword as k where keyword= 'character-name-in-title';
create or replace view aggJoin5278341899055172506 as select movie_id as v12 from movie_keyword as mk, aggView7813670992955786508 where mk.keyword_id=aggView7813670992955786508.v18;
create or replace view aggView3240981493024722808 as select v12 from aggJoin5278341899055172506 group by v12;
create or replace view aggJoin7114030673078531953 as select v1, v31 as v31 from aggJoin8161623153849221860 join aggView3240981493024722808 using(v12);
create or replace view aggView8270035315715946581 as select v1, MIN(v31) as v31 from aggJoin7114030673078531953 group by v1;
create or replace view aggJoin1310746209204016490 as select country_code as v3, v31 from company_name as cn, aggView8270035315715946581 where cn.id=aggView8270035315715946581.v1 and country_code= '[sm]';
create or replace view res as select MIN(v31) as v31 from aggJoin1310746209204016490;
select sum(v31) from res;