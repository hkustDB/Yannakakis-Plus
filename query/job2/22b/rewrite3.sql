create or replace view aggView5679898381289356274 as select name as v2, id as v1 from company_name as cn where country_code<> '[us]';
create or replace view aggView834194263663794652 as select id as v12 from info_type as it2 where info= 'rating';
create or replace view aggJoin8680947161203753221 as select movie_id as v37, info as v32 from movie_info_idx as mi_idx, aggView834194263663794652 where mi_idx.info_type_id=aggView834194263663794652.v12;
create or replace view aggView5821030632678250505 as select id as v17 from kind_type as kt where kind IN ('movie','episode');
create or replace view aggJoin1929039204258328242 as select id as v37, title as v38, production_year as v41 from title as t, aggView5821030632678250505 where t.kind_id=aggView5821030632678250505.v17 and production_year>2009;
create or replace view aggView7160938244731877465 as select v37, v38 from aggJoin1929039204258328242;
create or replace view aggView6534727769561990237 as select id as v14 from keyword as k where keyword IN ('murder','murder-in-title','blood','violence');
create or replace view aggJoin1659190250447394408 as select movie_id as v37 from movie_keyword as mk, aggView6534727769561990237 where mk.keyword_id=aggView6534727769561990237.v14;
create or replace view aggView6177852261168514374 as select v37 from aggJoin1659190250447394408 group by v37;
create or replace view aggJoin6346525973379684976 as select v37, v32 from aggJoin8680947161203753221 join aggView6177852261168514374 using(v37);
create or replace view aggView8946690695515443819 as select v37, v32 from aggJoin6346525973379684976;
create or replace view aggJoin7943718021842423947 as select v37, v32 from aggView8946690695515443819 where v32<'7.0';
create or replace view aggView7182683942382987456 as select v37, MIN(v32) as v50 from aggJoin7943718021842423947 group by v37;
create or replace view aggJoin4850256367633116156 as select v37, v38, v50 from aggView7160938244731877465 join aggView7182683942382987456 using(v37);
create or replace view aggView3168636055712138724 as select v37, MIN(v50) as v50, MIN(v38) as v51 from aggJoin4850256367633116156 group by v37;
create or replace view aggJoin7241374393267102498 as select movie_id as v37, company_id as v1, company_type_id as v8, note as v23, v50, v51 from movie_companies as mc, aggView3168636055712138724 where mc.movie_id=aggView3168636055712138724.v37 and note NOT LIKE '%(USA)%' and note LIKE '%(200%)%';
create or replace view aggView5813007315222480345 as select id as v10 from info_type as it1 where info= 'countries';
create or replace view aggJoin390436008228562299 as select movie_id as v37, info as v27 from movie_info as mi, aggView5813007315222480345 where mi.info_type_id=aggView5813007315222480345.v10 and info IN ('Germany','German','USA','American');
create or replace view aggView1302906186214199319 as select v37 from aggJoin390436008228562299 group by v37;
create or replace view aggJoin3959765612757284863 as select v1, v8, v23, v50 as v50, v51 as v51 from aggJoin7241374393267102498 join aggView1302906186214199319 using(v37);
create or replace view aggView2522719036137227069 as select id as v8 from company_type as ct;
create or replace view aggJoin3146727417471419900 as select v1, v23, v50, v51 from aggJoin3959765612757284863 join aggView2522719036137227069 using(v8);
create or replace view aggView2291764732577727465 as select v1, MIN(v50) as v50, MIN(v51) as v51 from aggJoin3146727417471419900 group by v1;
create or replace view aggJoin678374827267158162 as select v2, v50, v51 from aggView5679898381289356274 join aggView2291764732577727465 using(v1);
select MIN(v2) as v49,MIN(v50) as v50,MIN(v51) as v51 from aggJoin678374827267158162;
