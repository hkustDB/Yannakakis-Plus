create or replace view semiUp8185689610459030310 as select MessageId as v1 from Message_hasCreator_Person AS Message_hasCreator_Person where (MessageId) in (select (MessageId) from Person_likes_Message AS Person_likes_Message);
create or replace view semiUp5022190413833668732 as select ParentMessageId as v1 from Comment_replyOf_Message AS Comment_replyOf_Message where (ParentMessageId) in (select (MessageId) from Message_hasTag_Tag AS Message_hasTag_Tag);
create or replace view semiUp3286117142328627102 as select v1 from semiUp8185689610459030310 where (v1) in (select (v1) from semiUp5022190413833668732);
create or replace view semiDown5028717253753794200 as select v1 from semiUp5022190413833668732 where (v1) in (select (v1) from semiUp3286117142328627102);
create or replace view semiDown5677225580308831018 as select MessageId as v1 from Person_likes_Message AS Person_likes_Message where (MessageId) in (select (v1) from semiUp3286117142328627102);
create or replace view semiDown8280051461617478066 as select MessageId as v1 from Message_hasTag_Tag AS Message_hasTag_Tag where (MessageId) in (select (v1) from semiDown5028717253753794200);
create or replace view aggView4548831384896482908 as select v1, COUNT(*) as annot from semiDown5677225580308831018 group by v1;
create or replace view aggJoin3847552844133631805 as select v1, annot from semiUp3286117142328627102 join aggView4548831384896482908 using(v1);
create or replace view aggView397544044748217507 as select v1, COUNT(*) as annot from semiDown8280051461617478066 group by v1;
create or replace view aggJoin4143700576109149855 as select v1, annot from semiDown5028717253753794200 join aggView397544044748217507 using(v1);
create or replace view aggView2771374122237125828 as select v1, SUM(annot) as annot from aggJoin4143700576109149855 group by v1;
create or replace view aggJoin6316615224311569411 as select aggJoin3847552844133631805.annot * aggView2771374122237125828.annot as annot from aggJoin3847552844133631805 join aggView2771374122237125828 using(v1);
select SUM(annot) as v9 from aggJoin6316615224311569411;
