create or replace view semiUp3180434624784537702 as select MessageId as v1 from Message_hasCreator_Person AS Message_hasCreator_Person where (MessageId) in (select MessageId from Person_likes_Message AS Person_likes_Message);
create or replace view semiUp7295902112441299670 as select v1 from semiUp3180434624784537702 where (v1) in (select MessageId from Message_hasTag_Tag AS Message_hasTag_Tag);
create or replace view semiUp1449834420230988146 as select ParentMessageId as v1 from Comment_replyOf_Message AS Comment_replyOf_Message where (ParentMessageId) in (select v1 from semiUp7295902112441299670);
create or replace view semiDown7922370824581540160 as select v1 from semiUp7295902112441299670 where (v1) in (select v1 from semiUp1449834420230988146);
create or replace view semiDown3396260802226533485 as select MessageId as v1 from Message_hasTag_Tag AS Message_hasTag_Tag where (MessageId) in (select v1 from semiDown7922370824581540160);
create or replace view semiDown1756557439197358882 as select MessageId as v1 from Person_likes_Message AS Person_likes_Message where (MessageId) in (select v1 from semiDown7922370824581540160);
create or replace view aggView8365091434725170300 as select v1, COUNT(*) as annot from semiDown1756557439197358882 group by v1;
create or replace view aggJoin3455179696893455280 as select v1, annot from semiDown7922370824581540160 join aggView8365091434725170300 using(v1);
create or replace view aggView2649723025996398791 as select v1, COUNT(*) as annot from semiDown3396260802226533485 group by v1;
create or replace view aggJoin3914750474448857053 as select v1, aggJoin3455179696893455280.annot * aggView2649723025996398791.annot as annot from aggJoin3455179696893455280 join aggView2649723025996398791 using(v1);
create or replace view aggView8554181138011852952 as select v1, SUM(annot) as annot from aggJoin3914750474448857053 group by v1;
create or replace view aggJoin5616379774921884666 as select annot from semiUp1449834420230988146 join aggView8554181138011852952 using(v1);
create or replace view res as select SUM(annot) as v9 from aggJoin5616379774921884666;
select sum(v9) from res;
