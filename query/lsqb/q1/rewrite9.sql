create or replace view aggView864742454792867501 as select TagClassId as v23, COUNT(*) as annot from TagClass as TagClass group by TagClassId;
create or replace view aggJoin4974826987049267569 as select TagId as v22, annot from Tag as Tag, aggView864742454792867501 where Tag.hasType_TagClassId=aggView864742454792867501.v23;
create or replace view aggView5792542404180423522 as select CountryId as v4, COUNT(*) as annot from Country as Country group by CountryId;
create or replace view aggJoin4094350652667427323 as select CityId as v6, annot from City as City, aggView5792542404180423522 where City.isPartOf_CountryId=aggView5792542404180423522.v4;
create or replace view aggView2266523142144791701 as select v22, SUM(annot) as annot from aggJoin4974826987049267569 group by v22;
create or replace view aggJoin8191856200316405786 as select CommentId as v20, annot from Comment_hasTag_Tag as Comment_hasTag_Tag, aggView2266523142144791701 where Comment_hasTag_Tag.TagId=aggView2266523142144791701.v22;
create or replace view aggView5348478656396343651 as select v20, SUM(annot) as annot from aggJoin8191856200316405786 group by v20;
create or replace view aggJoin8681856600299960086 as select replyOf_PostId as v18, annot from Comment as Comment, aggView5348478656396343651 where Comment.CommentId=aggView5348478656396343651.v20;
create or replace view aggView4190789717865609036 as select v18, SUM(annot) as annot from aggJoin8681856600299960086 group by v18;
create or replace view aggJoin8487683372215786987 as select Forum_containerOfId as v9, annot from Post as Post, aggView4190789717865609036 where Post.PostId=aggView4190789717865609036.v18;
create or replace view aggView4883141658402697718 as select ForumId as v9, COUNT(*) as annot from Forum as Forum group by ForumId;
create or replace view aggJoin374270130308050151 as select ForumId as v9, PersonId as v8, annot from Forum_hasMember_Person as Forum_hasMember_Person, aggView4883141658402697718 where Forum_hasMember_Person.ForumId=aggView4883141658402697718.v9;
create or replace view aggView485861826257214764 as select v9, SUM(annot) as annot from aggJoin8487683372215786987 group by v9;
create or replace view aggJoin7929464090581335172 as select v8, aggJoin374270130308050151.annot * aggView485861826257214764.annot as annot from aggJoin374270130308050151 join aggView485861826257214764 using(v9);
create or replace view aggView1086272968746474605 as select v8, SUM(annot) as annot from aggJoin7929464090581335172 group by v8;
create or replace view aggJoin1386863692067536487 as select isLocatedIn_CityId as v6, annot from Person as Person, aggView1086272968746474605 where Person.PersonId=aggView1086272968746474605.v8;
create or replace view aggView1766366313166036381 as select v6, SUM(annot) as annot from aggJoin1386863692067536487 group by v6;
create or replace view aggJoin2772628126165978592 as select aggJoin4094350652667427323.annot * aggView1766366313166036381.annot as annot from aggJoin4094350652667427323 join aggView1766366313166036381 using(v6);
select SUM(annot) as v26 from aggJoin2772628126165978592;
