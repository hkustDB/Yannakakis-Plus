create or replace view semiUp6967992887278160813 as select Person1Id as v2, Person2Id as v4 from Person_knows_Person AS pkp2 where (Person2Id) in (select (Person1Id) from Person_knows_Person AS pkp3);
create or replace view semiUp4860317464577927694 as select v2, v4 from semiUp6967992887278160813 where (v2) in (select (Person2Id) from Person_knows_Person AS pkp1);
create or replace view semiUp4108053585788305198 as select PersonId as v4 from Person_hasInterest_Tag AS Person_hasInterest_Tag where (PersonId) in (select (v4) from semiUp4860317464577927694);
create or replace view semiDown7724188691834390017 as select v2, v4 from semiUp4860317464577927694 where (v4) in (select (v4) from semiUp4108053585788305198);
create or replace view semiDown6016786225337848210 as select Person2Id as v2, Person1Id as pkp1_person1Id from Person_knows_Person AS pkp1 where (Person2Id) in (select (v2) from semiDown7724188691834390017);
create or replace view semiDown9005473505092635908 as select Person1Id as v4 from Person_knows_Person AS pkp3 where (Person1Id) in (select (v4) from semiDown7724188691834390017);
create or replace view aggView6272040025516319792 as select v2, pkp1_person1Id, COUNT(*) as annot from semiDown6016786225337848210 group by v2, pkp1_person1Id;
create or replace view aggJoin8033737925844520246 as select v4, annot from semiDown7724188691834390017 join aggView6272040025516319792 using(v2) where pkp1_person1Id < v4;
create or replace view aggView3487286313540767024 as select v4, COUNT(*) as annot from semiDown9005473505092635908 group by v4;
create or replace view aggJoin2691646705119623295 as select v4, aggJoin8033737925844520246.annot * aggView3487286313540767024.annot as annot from aggJoin8033737925844520246 join aggView3487286313540767024 using(v4);
create or replace view aggView4946513798868151218 as select v4, SUM(annot) as annot from aggJoin2691646705119623295 group by v4;
create or replace view aggJoin31180465365042364 as select annot from semiUp4108053585788305198 join aggView4946513798868151218 using(v4);
select SUM(annot) as v9 from aggJoin31180465365042364;
