create or replace view semiUp4337292169985356865 as select Person1Id as v2, Person2Id as v4 from Person_knows_Person AS pkp2 where (Person2Id) in (select (PersonId) from Person_hasInterest_Tag AS Person_hasInterest_Tag);
create or replace view semiUp4129421373475157718 as select v2, v4 from semiUp4337292169985356865 where (v4) in (select (Person1Id) from Person_knows_Person AS pkp3);
create or replace view semiUp5701534515234162855 as select Person2Id as v2, Person1Id as pkp1_person1Id from Person_knows_Person AS pkp1 where (Person2Id) in (select (v2) from semiUp4129421373475157718);
create or replace view semiDown6882738526453520685 as select v2, v4 from semiUp4129421373475157718 where (v2) in (select (v2) from semiUp5701534515234162855);
create or replace view semiDown305483530474748275 as select PersonId as v4 from Person_hasInterest_Tag AS Person_hasInterest_Tag where (PersonId) in (select (v4) from semiDown6882738526453520685);
create or replace view semiDown1612630504039335595 as select Person1Id as v4 from Person_knows_Person AS pkp3 where (Person1Id) in (select (v4) from semiDown6882738526453520685);
create or replace view aggView1044946252000715338 as select v4, COUNT(*) as annot from semiDown305483530474748275 group by v4;
create or replace view aggJoin2264552791059013076 as select v2, v4, annot from semiDown6882738526453520685 join aggView1044946252000715338 using(v4);
create or replace view aggView2752268519309067062 as select v4, COUNT(*) as annot from semiDown1612630504039335595 group by v4;
create or replace view aggJoin1114229041416557008 as select v2, v4, aggJoin2264552791059013076.annot * aggView2752268519309067062.annot as annot from aggJoin2264552791059013076 join aggView2752268519309067062 using(v4);
create or replace view aggView7177221649496414998 as select v2, v4, SUM(annot) as annot from aggJoin1114229041416557008 group by v2, v4;
create or replace view aggJoin9165191289706920322 as select annot from semiUp5701534515234162855 join aggView7177221649496414998 using(v2) where pkp1_person1Id < v4;
select SUM(annot) as v9 from aggJoin9165191289706920322;
