create or replace view semiUp4588831998355333536 as select MessageId as v1 from Person_likes_Message AS Person_likes_Message where (MessageId) in (select (MessageId) from Message_hasTag_Tag AS Message_hasTag_Tag);
create or replace view semiUp8546148089494713081 as select MessageId as v1 from Message_hasCreator_Person AS Message_hasCreator_Person where (MessageId) in (select (v1) from semiUp4588831998355333536);
create or replace view semiUp7641166287853128636 as select v1 from semiUp8546148089494713081 where (v1) in (select (ParentMessageId) from Comment_replyOf_Message AS Comment_replyOf_Message);
create or replace view semiDown7654619707114142463 as select ParentMessageId as v1 from Comment_replyOf_Message AS Comment_replyOf_Message where (ParentMessageId) in (select (v1) from semiUp7641166287853128636);
create or replace view semiDown3287293918960860743 as select v1 from semiUp4588831998355333536 where (v1) in (select (v1) from semiUp7641166287853128636);
create or replace view semiDown8483934124138289748 as select MessageId as v1 from Message_hasTag_Tag AS Message_hasTag_Tag where (MessageId) in (select (v1) from semiDown3287293918960860743);
create or replace view aggView5734494732571414511 as select v1, COUNT(*) as annot from semiDown8483934124138289748 group by v1;
create or replace view aggJoin8402555823047213593 as select v1, annot from semiDown3287293918960860743 join aggView5734494732571414511 using(v1);
create or replace view aggView5261025768283660285 as select v1, COUNT(*) as annot from semiDown7654619707114142463 group by v1;
create or replace view aggJoin3279326324018018237 as select v1, annot from semiUp7641166287853128636 join aggView5261025768283660285 using(v1);
create or replace view aggView7365232927267224002 as select v1, SUM(annot) as annot from aggJoin8402555823047213593 group by v1;
create or replace view aggJoin6472056222087228413 as select aggJoin3279326324018018237.annot * aggView7365232927267224002.annot as annot from aggJoin3279326324018018237 join aggView7365232927267224002 using(v1);
select SUM(annot) as v9 from aggJoin6472056222087228413;
