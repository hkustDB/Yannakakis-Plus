create or replace view semiUp6990267176162293980 as select MessageId as v1 from Message_hasTag_Tag AS Message_hasTag_Tag where (MessageId) in (select (MessageId) from Person_likes_Message AS Person_likes_Message);
create or replace view semiUp3547565114947336741 as select MessageId as v1 from Message_hasCreator_Person AS Message_hasCreator_Person where (MessageId) in (select (ParentMessageId) from Comment_replyOf_Message AS Comment_replyOf_Message);
create or replace view semiUp7461027268164829101 as select v1 from semiUp3547565114947336741 where (v1) in (select (v1) from semiUp6990267176162293980);
create or replace view semiDown4413806163106094683 as select ParentMessageId as v1 from Comment_replyOf_Message AS Comment_replyOf_Message where (ParentMessageId) in (select (v1) from semiUp7461027268164829101);
create or replace view semiDown3303485419629604763 as select v1 from semiUp6990267176162293980 where (v1) in (select (v1) from semiUp7461027268164829101);
create or replace view semiDown3753988707561983767 as select MessageId as v1 from Person_likes_Message AS Person_likes_Message where (MessageId) in (select (v1) from semiDown3303485419629604763);
create or replace view aggView5647735739676971134 as select v1, COUNT(*) as annot from semiDown4413806163106094683 group by v1;
create or replace view aggJoin8663752592220912406 as select v1, annot from semiUp7461027268164829101 join aggView5647735739676971134 using(v1);
create or replace view aggView3890355727262366193 as select v1, COUNT(*) as annot from semiDown3753988707561983767 group by v1;
create or replace view aggJoin3534557234207390652 as select v1, annot from semiDown3303485419629604763 join aggView3890355727262366193 using(v1);
create or replace view aggView568650055825208463 as select v1, SUM(annot) as annot from aggJoin3534557234207390652 group by v1;
create or replace view aggJoin4534943803846171649 as select aggJoin8663752592220912406.annot * aggView568650055825208463.annot as annot from aggJoin8663752592220912406 join aggView568650055825208463 using(v1);
select SUM(annot) as v9 from aggJoin4534943803846171649;
