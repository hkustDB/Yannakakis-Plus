create or replace view semiUp6640902045246264834 as select MessageId as v1 from Message_hasTag_Tag AS Message_hasTag_Tag where (MessageId) in (select (MessageId) from Person_likes_Message AS Person_likes_Message);
create or replace view semiUp269064355492255922 as select MessageId as v1 from Message_hasCreator_Person AS Message_hasCreator_Person where (MessageId) in (select (ParentMessageId) from Comment_replyOf_Message AS Comment_replyOf_Message);
create or replace view semiUp3461889571966840567 as select v1 from semiUp6640902045246264834 where (v1) in (select (v1) from semiUp269064355492255922);
create or replace view semiDown3028267237972647979 as select v1 from semiUp269064355492255922 where (v1) in (select (v1) from semiUp3461889571966840567);
create or replace view semiDown7354922098822029486 as select MessageId as v1 from Person_likes_Message AS Person_likes_Message where (MessageId) in (select (v1) from semiUp3461889571966840567);
create or replace view semiDown5516226675005761770 as select ParentMessageId as v1 from Comment_replyOf_Message AS Comment_replyOf_Message where (ParentMessageId) in (select (v1) from semiDown3028267237972647979);
create or replace view aggView4867815407613948159 as select v1, COUNT(*) as annot from semiDown7354922098822029486 group by v1;
create or replace view aggJoin4950892529193601568 as select v1, annot from semiUp3461889571966840567 join aggView4867815407613948159 using(v1);
create or replace view aggView4132954182477684589 as select v1, COUNT(*) as annot from semiDown5516226675005761770 group by v1;
create or replace view aggJoin5011444341183586818 as select v1, annot from semiDown3028267237972647979 join aggView4132954182477684589 using(v1);
create or replace view aggView8415202807887214786 as select v1, SUM(annot) as annot from aggJoin5011444341183586818 group by v1;
create or replace view aggJoin2684582065225612860 as select aggJoin4950892529193601568.annot * aggView8415202807887214786.annot as annot from aggJoin4950892529193601568 join aggView8415202807887214786 using(v1);
select SUM(annot) as v9 from aggJoin2684582065225612860;
