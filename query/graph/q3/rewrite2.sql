create or replace view g3 as select Graph.src as v4, Graph.dst as v9, v10, v14 from Graph, (SELECT src, COUNT(*) AS v10 FROM Graph GROUP BY src) AS c2, (SELECT dst, COUNT(*) AS v14 FROM Graph GROUP BY dst) AS c4 where Graph.dst = c2.src and Graph.dst = c4.dst;
create or replace view g2 as select Graph.src as v2, Graph.dst as v4, v12 from Graph, (SELECT src, COUNT(*) AS v12 FROM Graph GROUP BY src) AS c3 where Graph.src = c3.src;
create or replace view orderView6804780202777637211 as select v4, v9, v10, v14, row_number() over (partition by v4 order by v10 DESC) as rn from g3;
create or replace view minView9182330055524605404 as select v4, v10 as mfR533543109579861368 from orderView6804780202777637211 where rn = 1;
create or replace view joinView8264442583672003487 as select v2, v4, v12, mfR533543109579861368 from g2 join minView9182330055524605404 using(v4);
create or replace view g1 as select Graph.src as v7, Graph.dst as v2, v8 from Graph, (SELECT src, COUNT(*) AS v8 FROM Graph GROUP BY src) AS c1 where Graph.src = c1.src;
create or replace view orderView8016013811349575131 as select v7, v2, v8, row_number() over (partition by v2 order by v8) as rn from g1;
create or replace view minView6023052640991662006 as select v2, v8 as mfL4241525090201729097 from orderView8016013811349575131 where rn = 1;
create or replace view joinView3570560553451623199 as select v2, v4, v12, mfR533543109579861368, mfL4241525090201729097 from joinView8264442583672003487 join minView6023052640991662006 using(v2) where mfL4241525090201729097<mfR533543109579861368;
create or replace view sample667357959028598995 as select * from orderView8016013811349575131 where rn % 5 = 1;
create or replace view maxRn4221972165431681138 as select v2, max(rn) as mrn from joinView3570560553451623199 join sample667357959028598995 using(v2) where v8<mfR533543109579861368 group by v2;
create or replace view target4019651164254782686 as select v7, v2, v8 from orderView8016013811349575131 join maxRn4221972165431681138 using(v2) where rn < mrn + 5;
create or replace view end7517476132992006925 as select v7, v8, v12, v4, v2, mfR533543109579861368 from joinView3570560553451623199 join target4019651164254782686 using(v2) where v8<mfR533543109579861368;
create or replace view sample6105903247161600276 as select * from orderView6804780202777637211 where rn % 5 = 1;
create or replace view maxRn1295092829454752550 as select v4, max(rn) as mrn from end7517476132992006925 join sample6105903247161600276 using(v4) where v8<v10 group by v4;
create or replace view target1406415725588904073 as select v4, v9, v10, v14 from orderView6804780202777637211 join maxRn1295092829454752550 using(v4) where rn < mrn + 5;
create or replace view end17194652875579467 as select v7, v9, v12, v10, v2, v14, v8, v4 from end7517476132992006925 join target1406415725588904073 using(v4) where v8<v10 and v12<v14;
select sum(v7+v2+v4+v9+v8+v10+v12+v14) from end17194652875579467;
